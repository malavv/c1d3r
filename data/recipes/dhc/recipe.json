{
  "id": "dhc",
  "synopsis": "dhc.synopsis",
  "history": "dhc.history",
  "details": "",
  "characteristics": [
    "dhc.characteristics.1",
    "dhc.characteristics.2",
    "dhc.characteristics.3"
  ],
  "img": "image.png",
  "func": "fun.js",

  "data": [
    {
      "id": "isCloudy",
      "datatype": "boolean",
      "group": "ingredient",
      "label": "dhc.data.isCloudy.label",
      "details": "dhc.data.isCloudy.details"
    },
    {
      "id": "volumeInL",
      "datatype": "number",
      "group": "ingredient",
      "label": "dhc.data.volumeInL.label",
      "details": "dhc.data.volumeInL.details",
      "placeholder": 0.0,
      "min": 0.0
    },
    {
      "id": "og",
      "datatype": "number",
      "group": "ingredient",
      "label": "dhc.data.og.label",
      "details": "dhc.data.og.details",
      "placeholder": 1.042,
      "min": 1.000,
      "max": 1.100
    },
    {
      "id": "degreeAlcohol",
      "datatype": "number",
      "group": "adjust",
      "label": "dhc.data.degreeAlcohol.label",
      "details": "dhc.data.degreeAlcohol.details",
      "placeholder": 4.5,
      "min": 3.0,
      "max": 8.0
    },
    {
      "id": "origTanninLvl",
      "datatype": "number",
      "group": "ingredient",
      "label": "dhc.data.origTanninLvl.label",
      "details": "dhc.data.origTanninLvl.details",
      "placeholder": 1,
      "min": 0,
      "max": 10
    },
    {
      "id": "juicePh",
      "datatype": "number",
      "group": "ingredient",
      "label": "dhc.data.juicePh.label",
      "details": "dhc.data.juicePh.details",
      "placeholder": 4.0,
      "min": 1.0,
      "max": 6.0
    },
    {
      "id": "desiredTanninLvl",
      "datatype": "number",
      "group": "adjust",
      "label": "dhc.data.desiredTanninLvl.label",
      "details": "dhc.data.desiredTanninLvl.details",
      "placeholder": 3,
      "min": 0,
      "max": 10
    },
    {
      "id": "primingSugarAddKg",
      "datatype": "number",
      "group": "computed"
    },
    {
      "id": "addedVolumeOfSugarAddInL",
      "datatype": "number",
      "group": "computed"
    },
    {
      "id": "yeastEfficiency",
      "datatype": "number",
      "group": "preset",
      "value": 0.85
    },
    {
      "id": "sugarPpg",
      "datatype": "number",
      "group": "preset",
      "value": 46
    },
    {
      "id": "acidPka",
      "datatype": "number",
      "group": "preset",
      "value": 4.10
    },
    {
      "id": "acidMolarMass",
      "datatype": "number",
      "group": "preset",
      "value": 176.12
    },
    {
      "id": "finalPh",
      "datatype": "number",
      "group": "preset",
      "value": 3.4
    },
    {
      "id": "acidAddInG",
      "datatype": "number",
      "group": "computed"
    },
    {
      "id": "tg",
      "datatype": "number",
      "group": "computed"
    },
    {
      "id": "sugarYieldPtsKgL",
      "datatype": "number",
      "group": "computed"
    }
  ],

  "observers": {
    "data.acidAddInG": ["data.juicePh", "data.finalPh", "data.volumeInL", "data.acidPka", "data.acidMolarMass"],
    "data.addedVolumeOfSugarAddInL": ["data.og", "data.chaptizationSugarAddKg", "data.volumeInL", "data.tg"],
    "data.chaptizationSugarAddKg": ["data.degreeAlcohol", "data.yeastEfficiency", "data.og", "data.sugarYieldPtsKgL", "data.volumeInL"],
    "data.nutrientAddInG": ["data.volumeInL"],
    "data.pectinaseAddInG": ["data.volumeInL"],
    "data.potassiumMetaAddInG": ["data.finalPh", "data.volumeInL"],
    "data.primingSugarAddKg": ["data.volumeInL"],
    "data.sugarYieldPtsKgL": ["data.sugarPpg"],
    "data.tanninAddInG": ["data.origTanninLvl", "data.desiredTanninLvl", "data.volumeInL"],
    "data.tg": ["data.og", "data.sugarYieldPtsKgL", "data.chaptizationSugarAddKg", "data.volumeInL"]
  },

  "steps": [
    [
      {
        "id": "ascorbic",
        "tmpl": "Add {0} of ascorbic acid.",
        "quantities": [{"id": "data.acidAddInG", "sym": "g"}]
      },
      {
        "id": "potassiumMetaAddInG",
        "tmpl": "Add {0} of potassium metabisulfite.",
        "quantities": [{"id": "data.potassiumMetaAddInG", "sym": "g"}]
      },
      {
        "id": "tanninAddInG",
        "tmpl": "Add {0} of wine tannin.",
        "quantities": [{"id": "data.tanninAddInG", "sym": "g"}]
      },
      {
        "id": "pectinaseAddInG",
        "tmpl": "Add {0} of pectic enzyme (pectinase).",
        "quantities": [{"id": "data.pectinaseAddInG", "sym": "g"}]
      }
    ],
    [
      {
        "id": "ignored",
        "tmpl": "Let liquid rest for 3 hours. (Under appropriate cover and in a cleaned space)",
        "quantities": []
      }
    ],
    [
      {
        "id": "nutrientAddInG",
        "tmpl": "Add {0} of Yeast Nutrient.",
        "quantities": [{"id": "data.nutrientAddInG", "sym": "g"}]
      },
      {
        "id": "ignored",
        "tmpl": "Add the content of a Yeast packet from your favorite manufacturer; White Labs WLP007, or Wyeast 1098, or Safale S-04. A fruity white yeast can also be used to a fruitier finish (Wyeast 4242 Chablis).",
        "quantities": []
      },
      {
        "id": "primingSugarAddKg",
        "tmpl": "Mix-in {0} of table sugar thoroughly.",
        "quantities": [{"id": "data.primingSugarAddKg", "sym": "kg"}]
      },
      {
        "id": "ignored",
        "tmpl": "Stir liquid thoroughly for at least 2 minutes.",
        "quantities": []
      },
      {
        "id": "addedVolumeOfSugarAddInL",
        "tmpl": "Be warned that due to the sugar addition, the final volume will increase from {0} to {1}.",
        "quantities": [
          {"id": "data.volumeInL", "sym": "L"},
          {"id": "data.addedVolumeOfSugarAddInL", "sym": "L"}
        ]
      }
    ],
    [
      {
        "id": "ignored",
        "tmpl": "Ferment in an air-locked fermentor for 5 days or until 1.010.",
        "quantities": []
      },
      {
        "id": "ignored",
        "tmpl": "Make sure the room of the fermentor is at a temperature between 18 and 21 Â°C. Hotter than this and the yeast might contribute unwanted \"yeasty\" or \"bready\" taste.",
        "quantities": []
      }
    ],
    [
      {
        "id": "ignored",
        "tmpl": "Transfer and ferment in secondary fermentor for 2 weeks or until desired dryness.",
        "quantities": []
      }
    ],
    [
      {
        "id": "ignored",
        "tmpl": "Transfer to bottling bucket.",
        "quantities": []
      },
      {
        "id": "primingSugarAddKg",
        "tmpl": "Mix-in {0} of priming sugar (table sugar) thoroughly.",
        "quantities": [{"id": "data.primingSugarAddKg", "sym": "kg"}]
      },
      {
        "id": "ignored",
        "tmpl": "Package in bottles.",
        "quantities": []
      }
    ]
  ]
}